{% extends "layout.html" %}

{% block title %}
    Admin
{% endblock %}

{% block main %}

<div class="container colored-container">
    <div class="section">
        <h2>Van Identifications</h2>
    </div>

    <!-- Search bar placed above the table -->
    <input type="text" id="searchBar" placeholder="Search">

    <!-- Single table element containing the table -->
    <table id="vanTable" class="table table-bordered">
        <thead>
            <tr>
                <th>Van</th>
                <th>VIN Number</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>G1</td><td>3C6URVJG8KE545204</td></tr>
            <tr><td>G2</td><td>3C6URVJG0LE113112</td></tr>
            <tr><td>G3</td><td>3C6MRVJG8ME541401</td></tr>  
            <tr><td>G4</td><td>3C6URVJG8LE117182</td></tr>
            <tr><td>G5</td><td>3C6URVJG9LE113142</td></tr>
            <tr><td>G6</td><td>3C6URVJG3KE551286</td></tr>  
            <tr><td>G7</td><td>3C6URVJG0LE144389</td></tr>
            <tr><td>G8</td><td>1FTBR3X81LKB33385</td></tr>  
            <tr><td>G9</td><td>1FTBR3X80LKB28176</td></tr>
            <tr><td>---</td><td>-----------------</td></tr>            
            <tr><td>G52</td><td>3C6LRVCG3PE582919</td></tr>
            <tr><td>G53</td><td>3C6LRVBG4NE139466</td></tr>
            <tr><td>G54</td><td>3C6LRVBG8NE139468</td></tr>
            <tr><td>G55</td><td>3C6LRVBG6NE139467</td></tr>
            <tr><td>G56</td><td>3C6TRVBG3LE134868</td></tr>
            <tr><td>G57</td><td>3C6TRVBG5LE134869</td></tr>
            <tr><td>G58</td><td>3C6URVJG5LE129743</td></tr>
            <tr><td>---</td><td>-----------------</td></tr>
            <tr><td>H3</td><td>3C6URVJG1LE113135</td></tr>
            <tr><td>H6</td><td>3C6URVJG7KE545243</td></tr>
            <tr><td>H8</td><td>3C6URVJG6KE553303</td></tr>  
            <tr><td>H13</td><td>3C6URVJG0KE551384</td></tr>
            <tr><td>H14</td><td>3C6URVJG9LE113156</td></tr>
            <tr><td>H23</td><td>3C6URVJGXLE113117</td></tr>          
        </tbody>
    </table>
</div>


 <script>
    document.getElementById('searchBar').addEventListener('input', function() {
    // Get the query (convert it to uppercase for case-insensitive search)
    var query = this.value.toUpperCase();

    // Get the table rows
    var rows = document.getElementById('vanTable').getElementsByTagName('tbody')[0].getElementsByTagName('tr');

    // Loop through the rows
    for (var i = 0; i < rows.length; i++) {
        // Get the columns (cells) of the current row
        var cols = rows[i].getElementsByTagName('td');

        // Assume the row doesn't match the query
        var rowMatchesQuery = false;

        // Check the Van (1st), License Plate (2nd), and VIN Number (3rd) columns
        var columnsToCheck = [0, 1]; // adjust as per your table column order
        for (var j = 0; j < columnsToCheck.length; j++) {
            var cellText = cols[columnsToCheck[j]].innerText.toUpperCase();
            if (cellText.includes(query)) {
                // If cell text includes the query, this row matches
                rowMatchesQuery = true;
                break;
            }
        }

        // Show/hide the row depending on whether it matches the query
        rows[i].style.display = rowMatchesQuery ? '' : 'none';
    }
});

 </script>

{% endblock %}
